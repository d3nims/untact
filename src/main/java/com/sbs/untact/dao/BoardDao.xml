<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sbs.untact.dao.BoardDao">

<select id="getBoard" resultType="Board">
		SELECT *
		FROM board
		WHERE id = #{id}
</select>

<select id="getForPrintBoard" resultType="Board">
		SELECT *
		FROM board
		WHERE id = #{id}
</select>

<select id="getForPrintBoards" resultType="Board">
		SELECT B.*
		FROM board AS B
		WHERE 1

		<if test="searchKeywordType == 'code'">
			AND B.code LIKE CONCAT('%', #{searchKeyword}, '%')
		</if>
		<if test="searchKeywordType == 'name'">
			AND B.name LIKE CONCAT('%', #{searchKeyword}, '%')
		</if>
		<if test="searchKeywordType == 'codeAndName'">
			AND (B.code LIKE CONCAT('%', #{searchKeyword}, '%') OR
			B.name LIKE CONCAT('%', #{searchKeyword}, '%'))
		</if>
		ORDER BY B.id DESC
	</select>
	
</mapper>